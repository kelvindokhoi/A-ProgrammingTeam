from heapq import*;I,H,P,R=input,heappush,heappop,int
for _ in' '*R(I()):b,s,p=[],[],-1;exec("c,q,_,_,r,d=*I().split(),-1;H(b,(-R(r),R(q)))if'c'>c else H(s,(R(r),R(q)))\nwhile b and s and -b[0][0]>=s[0][0]:x,y=P(b);z,w=P(s);d=z;y>=w or H(s,(z,w-y));w>=y or H(b,(x,y-w))\np=[d,p][d<0];print(s and s[0][0]or'-',b and-b[0][0]or'-',['-',p][p>0]);"*R(I()))